(function(y,i,r,c,R,S,v){"use strict";let o=[],u,C,g,d,f,a,_,p,M=[];const E=r.stylesheet.createThemedStyleSheet({container:{flex:1,padding:16,alignItems:"center",justifyContent:"center"},title:{fontFamily:r.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:24,textAlign:"center",color:R.semanticColors.HEADER_PRIMARY,paddingVertical:25},text:{fontSize:16,textAlign:"center",color:R.semanticColors.HEADER_SECONDARY}});function B({channel:e}){return r.React.createElement(_,{style:E.container},r.React.createElement(p,{style:E.title},`\u{1F512} ${e.name||"Hidden Channel"}`),r.React.createElement(p,{style:E.text},e.topic?`Topic: ${e.topic}

`:"","You do not have access to view this channel."))}function l(e){if(e==null||(typeof e=="string"&&(e=f?.getChannel?.__original?.(e)||f?.getChannel(e)),!e||M.includes(e.type)))return!1;e.realCheck=!0;let h=!u.can(r.constants.Permissions.VIEW_CHANNEL,e);return delete e.realCheck,h}var P={onLoad:function(){try{u=i.findByProps("getChannelPermissions","can"),C=i.findByProps("transitionToGuild"),g=i.findByProps("stores","fetchMessages"),d=i.findByProps("ChannelTypes")?.ChannelTypes,f=i.findByStoreName("ChannelStore"),a=i.findByStoreName("ReadStateStore");const e=i.findByProps("Button","Text","View");_=e?.View,p=e?.Text,M=[d?.DM,d?.GROUP_DM,d?.GUILD_CATEGORY].filter(Boolean);const h=i.findByName("MessagesWrapperConnected",!1);if(!u||!f)throw new Error("Failed to find required modules");o.push(c.after("can",u,function([n,t],s){return!t?.realCheck&&n===r.constants.Permissions.VIEW_CHANNEL?!0:s})),C?.transitionToGuild&&o.push(c.instead("transitionToGuild",C,function(n,t){const[s,T]=n;if(!l(T)&&typeof t=="function")return t(...n)})),g?.fetchMessages&&o.push(c.instead("fetchMessages",g,function(n,t){const[s]=n;if(!l(s)&&typeof t=="function")return t(...n)})),h&&o.push(c.instead("default",h,function(n,t){const s=n[0]?.channel;return!l(s)&&typeof t=="function"?t(...n):r.React.createElement(B,{channel:s})})),a&&(a.getMentionCount&&o.push(c.after("getMentionCount",a,function(n,t){const s=n[0];return l(s)?0:t})),a.getUnreadCount&&o.push(c.after("getUnreadCount",a,function(n,t){const s=n[0];return l(s)?0:t})),a.hasUnread&&o.push(c.after("hasUnread",a,function(n,t){const s=n[0];return l(s)?!1:t})),a.hasRelevantUnread&&o.push(c.after("hasRelevantUnread",a,function(n,t){const s=n[0];return l(s)?!1:t})))}catch(e){S.showToast("Show Hidden Channels failed: "+e.message,v.getAssetIDByName("ic_close_circle")),console.error("Show Hidden Channels error:",e)}},onUnload:function(){for(const e of o)e?.();o=[]}};return y.default=P,Object.defineProperty(y,"__esModule",{value:!0}),y})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui,vendetta.ui.toasts,vendetta.ui.assets);
